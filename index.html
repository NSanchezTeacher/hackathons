<!DOCTYPE HTML>
<html>
<head>
    <title>Flask-SocketIO Test</title>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen"> 
    <link href="css/index.css" rel="stylesheet" media="screen"> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js" integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ==" crossorigin="anonymous"></script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function() {
        

            $.ajax({
                type: "GET",
                url: "http://localhost:5000/getData",
                success: function(data) {
                    data = JSON.parse(data);
                    for (let value of Object.keys(data))
                    {
                        console.log(value);
                    }
                }
            });
            
            
            function changeNumber() {
                $.ajax({
                    type: "GET",
                    url: "http://localhost:5000/getData",
                    success: function(data) {
                        data = JSON.parse(data);
                        for(var g = 1; g < 4; g++)
                            for(var d = 1; d<6; d++)
                            {
                                var cls = "#G"+g+"P"+d;
                                var val = data["grupo"+g][d-1];
                                $(cls).removeClass();
                                
                                if(val){
                                    $(cls).addClass("table-succes");
                                }
                                else{
                                    $(cls).addClass("table-danger");
                                }
                            }
                        
                    }
                });
            } setInterval(changeNumber, 3000);
        });

    </script>
</head>
<body>
    <br><br>
    <div class="container align-middle">
        
        <div class="row">
          <div class="col col-2">
          </div>
          <div class="col col-8">
            
                    <table class="table table-bordered">
                        <thead class="thead-light">
                          <tr>
                            <th scope="col">Grupo</th>
                            <th scope="col">Ejercicio1</th>
                            <th scope="col">Ejercicio2</th>
                            <th scope="col">Ejercicio3</th>
                            <th scope="col">Ejercicio4</th>
                            <th scope="col">Ejercicio5</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th>Grupo 1</td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                          </tr>
                          <tr>
                            <th>Grupo 2</td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                          </tr>
                          <tr>
                            <th>Grupo 3</td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                          </tr>
                          <tr>
                            <th>Grupo 4</td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                          </tr>
                          <tr>
                            <th>Grupo 5</td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                            <td class="table-danger"></td>
                          </tr>
                        </tbody>
                      </table>

           
          </div>
        </div>
      </div>
      
      <!--<p><b>Ejercicio 1 - </b>Realiza una petición que indicando a que grupo perteneces. En esta petición no es necesario indicar los datos, solo el grupo.</p>
      <p><b>Ejercicio 2 - </b>Genera un array con los números primos entre el 1 y el 100. No hace falta descargar nada.</p>
      <p><b>Ejercicio 3 - </b>Descarga un el fichero csv del enlace, gúardalo en disco y sube un array con todas las líneas.</p>
      <p><b>Ejercicio 4 - </b>Descarga el array del enlace, realiza las combinaciones de los elementos. Las combinaciones deben ser de dos elementos entre si. Agrupa en base al primer elemento. Sube el resultado.</p>
      <p><b>Ejercicio 5 - </b>Descarga el fichero csv del servidor. Sube un array con las líneas que son del periodo perteneciente al año 2012. Sube el resultado.</p>
      <p><b>Nota - </b>Para este ejercicio puedes utilizar la función csv.reader. Investiga sobre ella.</p>-->
</body>



</html>